{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"TabView","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/Text","/libs/bndly/data/scripts/cy/ui/container/Tab","/libs/bndly/data/scripts/cy/ui/container/ViewContainer"],"script@STRING":"var TabView = ViewContainer.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\r\n\t\tthis.callSuper(arguments, config);\r\n\t},\r\n\trenderTo: function(renderTarget) {\r\n\t\tthis.tabNav = $(renderTarget).append(\"<ul class=\\\"nav nav-tabs\\\"></ul>\").children().last();\r\n\t\tthis.content = $(renderTarget).append(\"<div></div>\").children().last();\t\t\r\n\t\t\r\n\t\t// this.invokeSuper(arguments);\r\n\t\targuments.callee.$parent.renderTo.call(this, this.content);\r\n\t},\r\n\trenderItem: function(component) {\r\n\t\tif(this.rendered) {\t\t\t\t\r\n\t\t\tvar isTab = component instanceof Tab;\r\n\t\t\tif(isTab) {\r\n\t\t\t\targuments.callee.$parent.renderItem.call(this, component);\r\n\t\t\t\tcomponent.hide();\r\n\t\t\t\tthis.renderTabButtonForTab(component);\r\n\r\n\t\t\t\tif(component.activeByDefault) {\r\n\t\t\t\t\tthis.showTab(component);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdestroy: function() {\r\n\t\tif(this.tabNav) {\r\n\t\t\tthis.tabNav.remove();\r\n\t\t}\r\n\t\tif(this.content) {\r\n\t\t\tthis.content.remove();\r\n\t\t}\r\n\t\tthis.callSuper(arguments);\r\n\t},\r\n\tshowTab: function(tab) {\r\n\t\tif (this.activeTab) {\r\n\t\t\tthis.activeTab.hide();\r\n\t\t}\r\n\t\ttab.show();\r\n\t\tthis.activeTab = tab;\r\n\t},\r\n\trenderTabButtonForTab: function(tab) {\r\n\t\tvar _this = this;\r\n\t\tvar label = tab.labelText;\r\n\t\tif (!label) {\r\n\t\t\tlabel = tab.name;\r\n\t\t}\r\n\t\ttab.navItem = $(this.tabNav).append(\"<li role=\\\"presentation\\\"></li>\").children().last();\r\n\t\tvar labelText = new Text({value: label, tag: \"a\"});\r\n\t\tlabelText.renderTo(tab.navItem);\r\n\t\t$(tab.navItem).click(function() {\r\n\t\t\t// console.log(\"should switch tabs.\");\r\n\t\t\t_this.showTab(tab);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t}\r\n});\r\nreturn TabView;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":"","export@STRING":""}}
