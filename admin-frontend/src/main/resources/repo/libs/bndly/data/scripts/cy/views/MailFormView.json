{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"MailFormView","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/container/Form","/libs/bndly/data/scripts/cy/RestBeans","/libs/bndly/data/scripts/cy/Collection","/libs/bndly/data/scripts/cy/ui/input/TextInput","/libs/bndly/data/scripts/cy/ui/input/Button"],"script@STRING":"var MailFormView = Form.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tconfig.mail = new RestBeans[\"Mail\"]();\r\n\t\tconfig.mail.setContent(new Collection([new RestBeans[\"SimpleMailContent\"]()]));\r\n\t\tconfig.mail.getContent().getItemAt(0).setContentType(\"text/plain\");\r\n\t\tconfig.items = [\r\n\t\t\tnew TextInput({\r\n\t\t\t\tlabel: \"From\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchanged: function(input, value){\r\n\t\t\t\t\t\tconfig.mail.setSenderAddress(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tnew TextInput({\r\n\t\t\t\tlabel: \"To\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchanged: function(input, value){\r\n\t\t\t\t\t\tconfig.mail.setTo(new Collection([value]));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tnew TextInput({\r\n\t\t\t\tlabel: \"BCC\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchanged: function(input, value){\r\n\t\t\t\t\t\tconfig.mail.setBcc(new Collection([value]));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tnew TextInput({\r\n\t\t\t\tlabel: \"Subject\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchanged: function(input, value){\r\n\t\t\t\t\t\tconfig.mail.setSubject(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tnew TextInput({\r\n\t\t\t\tlabel: \"Text\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tchanged: function(input, value){\r\n\t\t\t\t\t\tconfig.mail.getContent().getItemAt(0).setText(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tnew Button({\r\n\t\t\t\tlabel: \"Send\",\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tclicked: function(button){\r\n\t\t\t\t\t\tRestBeans.root.follow({\r\n\t\t\t\t\t\t\trel: \"sendMail\",\r\n\t\t\t\t\t\t\tpayload: config.mail\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t];\r\n\t\tthis.callSuper(arguments, config);\r\n\t},\r\n\tdestroy: function() {\r\n\t\tthis.invokeSuper(arguments);\r\n\t},\r\n\trenderTo: function(renderTarget) {\r\n\t\tthis.invokeSuper(arguments);\r\n\t}\r\n});\r\nreturn MailFormView;","initMethod@STRING":"","proxy@STRING":"","export@STRING":"","moduleId@STRING":""}}
