{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"BusinessProcessInstance","dependencies@STRING":["/libs/bndly/data/scripts/cy/RestBeans","/libs/bndly/data/scripts/cy/EntityCollection"],"script@STRING":"return [\r\n\t{\r\n\t\titems: [{\r\n\t\t\t\tmember: \"id\",\r\n\t\t\t\tlabelText: \"ID\",\r\n\t\t\t\tgenerated: true\r\n\t\t\t}, {\r\n\t\t\t\tmember: \"startTime\",\r\n\t\t\t\tlabelText: \"Start\",\r\n\t\t\t\tgenerated: true\r\n\t\t\t}, {\r\n\t\t\t\tmember: \"endTime\",\r\n\t\t\t\tlabelText: \"End\",\r\n\t\t\t\tgenerated: true\r\n\t\t\t}, {\r\n\t\t\t\tmember: \"engineName\",\r\n\t\t\t\tlabelText: \"Engine\",\r\n\t\t\t\tgenerated: true\r\n\t\t\t}, {\r\n\t\t\t\tkey: \"processName\",\r\n\t\t\t\tlabelText: \"Process name\",\r\n\t\t\t\tconstructorFn: \"SelectInput\",\r\n\t\t\t\tmandatory: true,\r\n\t\t\t\tinputConfig: {\r\n\t\t\t\t\teager: false,\r\n\t\t\t\t\titems: new EntityCollection({\r\n\t\t\t\t\t\tproto: new RestBeans[\"BusinessProcessDefinition\"]()\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tentryValueFn: function(processDefinition) {\r\n\t\t\t\t\t\treturn processDefinition.getName();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tentryLabelFn: function(processDefinition) {\r\n\t\t\t\t\t\treturn processDefinition.getName();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tinit: function(instance, entry) {\r\n\t\t\t\t\tinstance.addListener(\"changed\", function(input, processDefinition){\r\n\t\t\t\t\t\tentry.setProcessName(processDefinition.getName());\r\n\t\t\t\t\t\tentry.setEngineName(processDefinition.getEngineName());\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tinstance.items.addListener(\"allLoaded\", function(items){\r\n\t\t\t\t\t\tif(!entry.getProcessName()) {\r\n\t\t\t\t\t\t\titems.each(function(def){\r\n\t\t\t\t\t\t\t\tif(!entry.getProcessName()) {\r\n\t\t\t\t\t\t\t\t\tentry.setProcessName(def.getName());\r\n\t\t\t\t\t\t\t\t\tentry.setEngineName(def.getEngineName());\r\n\t\t\t\t\t\t\t\t\tinstance.setValue(def);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\titems.each(function(def){\r\n\t\t\t\t\t\t\t\tif(def.getName() === entry.getProcessName()) {\r\n\t\t\t\t\t\t\t\t\tinstance.setValue(def);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tinstance.items.load();\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t}\r\n];","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":"","export@STRING":""}}
