{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"CacheView","script@STRING":"var CacheView = ViewComponent.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tconfig.titleText = new Text({value: \"REST Cache\", tag: \"h1\"});\r\n\t\tconfig.descriptionText = new Text({value: \"Here you can flush the REST cache of the application.\", tag: \"p\"});\r\n\t\tconfig.flushEverythingButton = new Button({\r\n\t\t\tlabel: \"flush everything\",\r\n\t\t\tdisabled: true,\r\n\t\t\tlisteners: {\r\n\t\t\t\tclicked: {\r\n\t\t\t\t\tfn: this.flushEverythingButtonClicked,\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tconfig.container = new ViewContainer({\r\n\t\t\titems: [\r\n\t\t\t\tconfig.descriptionText,\r\n\t\t\t\tnew ButtonGroup({\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\tconfig.flushEverythingButton\r\n\t\t\t\t\t]\r\n\t\t\t\t})\r\n\t\t\t]\r\n\t\t});\r\n\t\tthis.callSuper(arguments, config);\r\n\t\tRestBeans.root.follow({\r\n\t\t\trel: \"cache\",\r\n\t\t\tcb: this.cacheStatusLoaded,\r\n\t\t\tscope: this\r\n\t\t});\r\n\t},\r\n\tdestroy: function() {\r\n\t\tthis.invokeSuper(arguments);\r\n\t\tthis.titleText.destroy();\r\n\t\tthis.container.destroy();\r\n\t},\r\n\trenderTo: function(renderTarget) {\r\n\t\tthis.titleText.renderTo(renderTarget);\r\n\t\tthis.container.renderTo(renderTarget);\r\n\t\tthis.invokeSuper(arguments);\r\n\t},\r\n\tcacheStatusLoaded: function(cacheStatus) {\r\n\t\tthis.cacheStatus = cacheStatus;\r\n\t\tif(cacheStatus.hasLink(\"flusheverything\")) {\r\n\t\t\tthis.flushEverythingButton.enable();\r\n\t\t}\r\n\t},\r\n\tflushEverythingButtonClicked: function() {\r\n\t\tthis.flushEverythingButton.disable();\r\n\t\tthis.cacheStatus.follow({\r\n\t\t\trel: \"flusheverything\",\r\n\t\t\tcb: function() {\r\n\t\t\t\tthis.flushEverythingButton.enable();\r\n\t\t\t},\r\n\t\t\tfcb: function() {\r\n\t\t\t\tthis.flushEverythingButton.enable();\r\n\t\t\t},\r\n\t\t\tscope: this\r\n\t\t});\r\n\t}\r\n});\r\nreturn CacheView;","initMethod@STRING":"","proxy@STRING":"","export@STRING":"","moduleId@STRING":"","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/Text","/libs/bndly/data/scripts/cy/ui/ViewComponent","/libs/bndly/data/scripts/cy/ui/container/ViewContainer","/libs/bndly/data/scripts/cy/RestBeans","/libs/bndly/data/scripts/cy/ui/container/ButtonGroup","/libs/bndly/data/scripts/cy/ui/input/Button"]}}
