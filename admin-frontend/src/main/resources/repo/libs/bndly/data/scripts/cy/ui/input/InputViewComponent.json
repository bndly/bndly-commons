{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"InputViewComponent","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/ViewComponent"],"script@STRING":"var InputViewComponent = ViewComponent.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tthis.callSuper(arguments, config);\r\n\r\n\t\tif (config.entity && config.member) {\r\n\t\t\tthis.bindTo(config.entity, config.member);\r\n\t\t}\r\n\t},\r\n\tdestroy: function() {\r\n\t\targuments.callee.$parent.destroy.call(this);\r\n\t},\r\n\tbindTo: function(entity, member) {\r\n\t\tif (this.entity) {\r\n\t\t\tthis.entity.removeListener(\"changed\", this.entityChanged, this);\r\n\t\t}\r\n\r\n\t\tthis.entity = entity;\r\n\t\tthis.member = member;\r\n\r\n\t\t// attach change listeners to entity\r\n\t\tthis.listen(entity, \"changed\", this.entityChanged, this);\r\n\t},\r\n\t// react on entity changes + getter and setter\r\n\tgetBoundValue: function() {\r\n\t\tif (this.entity && this.member) {\r\n\t\t\treturn this.entity.get(this.member);\r\n\t\t}\r\n\t\treturn undefined;\r\n\t},\r\n\tsetBoundValue: function(value) {\r\n\t\tif (this.entity && this.member) {\r\n\t\t\treturn this.entity.set(this.member, value);\r\n\t\t}\r\n\t},\r\n\tentityChanged: function(entity, member, newValue, oldValue) {\r\n\t\tif (member === this.member) {\r\n\t\t\tthis.setValue(newValue);\r\n\t\t}\r\n\t},\r\n\t// react on input changes + getter and setter\r\n\tinputChanged: function() {\r\n\t\tif (this.entity && this.member) {\r\n\t\t\tthis.entity.set(this.member, this.getValue());\r\n\t\t}\r\n\t\tthis.fireEvent(\"changed\", this, this.getValue());\r\n\t},\r\n\tgetValue: function() {\r\n\t\tthrow new Error(\"you should override this method.\");\r\n\t},\r\n\tsetValue: function(value) {\r\n\t\tthrow new Error(\"you should override this method.\");\r\n\t},\r\n\tgetName: function() {\r\n\t\treturn this.name;\r\n\t},\r\n\tgetLabel: function() {\r\n\t\treturn this.label;\r\n\t}\r\n});\r\nreturn InputViewComponent;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":""}}
