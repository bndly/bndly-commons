{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"RelationView","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/Text","/libs/bndly/data/scripts/cy/ui/container/ViewContainer"],"script@STRING":"var RelationView = ViewContainer.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tconfig.items = [\r\n\t\t];\r\n\t\tthis.callSuper(arguments, config);\r\n\t},\r\n\trenderRelatedEntities: function() {\r\n\t\tvar proto = new RestBeans[relationDescriptor.child]();\r\n\t\tproto.set(relationDescriptor.childProperty, _this.entity);\r\n\t\tvar dataProvider = new EntityTableDataProvider({\r\n\t\t\tproto: proto\r\n\t\t});\r\n\t\tvar cols = tableConfigurations[proto.clazzName()];\r\n\t\tif (!cols) {\r\n\t\t\tcols = TableBinder.prototype.generateColumnDefinitions(proto.clazzName());\r\n\t\t}\r\n\t\tvar tableBinder = new TableBinder({\r\n\t\t\tdataProvider: dataProvider,\r\n\t\t\tcolumns: cols\r\n\t\t});\r\n\t\ttableBinder.renderTo(this.view);\r\n\r\n\t\tvar label = \"New\";\r\n\t\tvar labelText = new Text({value: label});\r\n\t\tvar btn = $(this.view)\r\n\t\t\t.append(\"<a href=\\\"#\\\" class=\\\"btn\\\"></a>\")\r\n\t\t\t.children()\r\n\t\t\t.last();\r\n\t\tlabelText.renderTo($(btn));\r\n\t}\r\n});\r\nreturn RelationView;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":""}}
