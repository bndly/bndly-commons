{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"BusinessProcessDefinitionDiagramView","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/container/ViewContainer","/libs/bndly/data/scripts/cy/ui/Image"],"script@STRING":"var BusinessProcessDefinitionDiagramView = ViewContainer.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tconfig.image = new Image({\r\n\t\t\temptyText: \"There is no diagram data available.\"\r\n\t\t});\r\n\t\tconfig.items = [\r\n\t\t\tconfig.image\r\n\t\t];\r\n\t\tthis.callSuper(arguments, config);\r\n\t\tthis.listen(this.parent, \"persisted\", this.didPersistDefinition, this);\r\n\t},\r\n\trenderTo: function(renderTarget) {\r\n\t\tthis.invokeSuper(arguments);\r\n\t\tthis.showDiagram(this.parent);\r\n\t},\r\n\tdidPersistDefinition: function(def) {\r\n\t\tdef.addSingleInvocationListener(\"reloaded\", this.didReloadDefinition, this);\r\n\t},\r\n\tdidReloadDefinition: function(def) {\r\n\t\tthis.showDiagram(def);\r\n\t},\r\n\tshowDiagram: function(def) {\r\n\t\tvar l = def.hasLink(\"diagramData\");\r\n\t\tif (l) {\r\n\t\t\tdef.follow({\r\n\t\t\t\tlink: l,\r\n\t\t\t\tcb: function(data) {\r\n\t\t\t\t\tvar dl = data.hasLink(\"download\");\r\n\t\t\t\t\tif (dl) {\r\n\t\t\t\t\t\tthis.image.setSource(dl.getHref());\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\nreturn BusinessProcessDefinitionDiagramView;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":""}}
