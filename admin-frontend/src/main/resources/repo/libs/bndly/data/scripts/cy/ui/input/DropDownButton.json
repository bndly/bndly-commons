{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"DropDownButton","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/Text","/libs/bndly/data/scripts/cy/Collection","/libs/bndly/data/scripts/cy/ui/input/Button"],"script@STRING":"var DropDownButton = Button.extend({\r\n\tconstruct: function (config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tif (!config.items) {\r\n\t\t\tconfig.items = new Collection();\r\n\t\t} else if (!(config.items instanceof Collection)) {\r\n\t\t\tconfig.items = new Collection(config.items);\r\n\t\t}\r\n\r\n\t\tthis.callSuper(arguments, config);\r\n\t},\r\n\tdestroy: function () {\r\n\t\tthis.invokeSuper(arguments);\r\n\t\tif (this.wrapper) {\r\n\t\t\t$(this.wrapper).remove();\r\n\t\t}\r\n\t},\r\n\trenderTo: function (renderTarget) {\r\n\t\tthis.wrapper = $(renderTarget).append(\"<div class=\\\"btn-group\\\"></div>\").children().last();\r\n\t\tthis.element = $(this.wrapper).append(\"<button class=\\\"btn btn-default dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\" + this.label + \" <span class=\\\"caret\\\"></span></button>\").children().last();\r\n\t\tthis.dropDownMenu = $(this.wrapper).append(\"<ul class=\\\"dropdown-menu\\\"></div>\").children().last();\r\n\t\tthis.items.each(function (item) {\r\n\t\t\tvar label = item.label;\r\n\t\t\tif (!label) {\r\n\t\t\t\tlabel = item.name;\r\n\t\t\t}\r\n\t\t\titem.view = $(this.dropDownMenu).append(\"<li></li>\").children().last();\r\n\t\t\tvar text = new Text({value: label});\r\n\t\t\titem.button = $(item.view).append(\"<a href=\\\"#\\\"></a>\").children().last();\r\n\t\t\ttext.renderTo($(item.button));\r\n\t\t\t$(item.view).click(this._createClickListener(item));\r\n\t\t}, this);\r\n\t},\r\n\t_createClickListener: function (item) {\r\n\t\tvar _this = this;\r\n\t\treturn function () {\r\n\t\t\t_this.fireEvent(\"clicked\", _this, item);\r\n\t\t};\r\n\t}\r\n});\r\nreturn DropDownButton;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":"","export@STRING":""}}
