{"type":"cy:bean","properties":{"beanType@STRING":"cy:requiremodule","name@STRING":"NavigationBar","dependencies@STRING":["/libs/bndly/data/scripts/cy/ui/Text","/libs/bndly/data/scripts/cy/ui/NavigationBarItem","/libs/bndly/data/scripts/cy/ui/container/ViewContainer","/libs/bndly/data/scripts/cy/Collection"],"script@STRING":"var NavigationBar = ViewContainer.extend({\r\n\tconstruct: function(config) {\r\n\t\tif (!config) {\r\n\t\t\tconfig = {};\r\n\t\t}\r\n\t\tconfig.navigationContent = new Collection();\r\n\r\n\t\tif(config.items) {\r\n\t\t\tfor(var i in config.items) {\r\n\t\t\t\tvar item = config.items[i];\r\n\t\t\t\tif(item) {\r\n\t\t\t\t\tif (!(item instanceof NavigationBarItem)) {\r\n\t\t\t\t\t\tconfig.items[i] = new NavigationBarItem(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.callSuper(arguments, config);\r\n\t},\r\n\trenderTo: function(renderTarget) {\r\n\t\tthis.navigationContent.clear();\r\n\t\tthis.navBarOuter = $(renderTarget).append(\"<div class=\\\"navbar navbar-static-top\\\" />\").children().last();\r\n\t\tthis.navBarInner = $(this.navBarOuter).append(\"<div class=\\\"navbar-inner\\\" />\").children().last();\r\n\t\tthis.logo = new Text({value: this.brand, cls: \"brand\", tag: \"a\"});\r\n\t\tthis.logo.renderTo($(this.navBarInner));\r\n\t\tthis.navBarItems = $(this.navBarInner).append(\"<ul class=\\\"nav mainMenu\\\" />\").children().last();\r\n\t\tthis.contentHolder = $(renderTarget).append(\"<div/>\").children().last();\r\n\t\tthis.welcome = $(this.contentHolder).append(\"<div class=\\\"hero-unit\\\" style=\\\"background-color: transparent;\\\"></div>\").children().last();\r\n\t\tthis.welcomeTitle = new Text({value: \"Hello.\", tag: \"h1\"});\r\n\t\tthis.welcomeTitle.renderTo(this.welcome);\r\n\t\tthis.welcomeText = new Text({value: \"Click on the navigation bar above in order to manage your eBX application.\", tag: \"p\"});\r\n\t\tthis.welcomeText.renderTo(this.welcome);\r\n\t\tthis.callSuper(arguments, this.navBarItems);\r\n\t},\r\n\trenderItem: function(component) {\r\n\t\tvar wrapper = $(this.contentHolder).append(\"<div />\").children().last();\r\n\t\t$(wrapper).hide();\r\n\t\tthis.callSuper(arguments, component);\r\n\t\tthis.listen(component, \"clicked\", this.navigationItemClicked, this);\r\n\t\tif(component.view) {\r\n\t\t\tvar viewInstance = new component.view();\r\n\t\t\tviewInstance.renderTo(wrapper);\r\n\t\t}\r\n\r\n\t\tthis.navigationContent.add({\r\n\t\t\tnavigationItem: component,\r\n\t\t\twrapper: wrapper\r\n\t\t});\r\n\t},\r\n\tnavigationItemClicked: function(navigationItem) {\r\n\t\tif(this.welcome) {\r\n\t\t\tthis.welcomeText.destroy();\r\n\t\t\tthis.welcomeTitle.destroy();\r\n\t\t\t$(this.welcome).remove();\r\n\t\t\tthis.welcome = null;\r\n\t\t}\r\n\t\tthis.navigationContent.each(function(config){\r\n\t\t\tvar isSelected = config.navigationItem === navigationItem;\r\n\t\t\tconfig.navigationItem.setActive(isSelected);\r\n\t\t\tif(isSelected) {\r\n\t\t\t\t$(config.wrapper).show();\r\n\t\t\t} else {\r\n\t\t\t\t$(config.wrapper).hide();\r\n\t\t\t}\r\n\t\t}, this);\r\n\t}\r\n});\r\nreturn NavigationBar;","initMethod@STRING":"","proxy@STRING":"","moduleId@STRING":""}}
